items:
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  commentId: T:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  id: RecoveryManager
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  children:
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType@,System.String@)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType@,System.String@,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation@)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardLocation(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapName(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapType(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange})
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation})
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation},System.String)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation})
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation},System.String)
  - Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)
  langs:
  - csharp
  - vb
  name: RecoveryManager
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  type: Class
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: RecoveryManager
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 22
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nManages various recovery related tasks for a shard map manager. It helps \nresolving data corruption issues between shard map information stored\nlocally on the shards and in the global shard map manager database. \nIt also helps with certain 'oops' recovery scenarios where reconstruction\nof shard maps from database backups or database copies is necessary.\n"
  remarks: "\nNote that some of the recovery methods can cause unrecoverable data loss when not used \nproperly. It is recommend to take backups or copies of all databases that participate \nin recovery operations. \n"
  example: []
  syntax:
    content: public sealed class RecoveryManager
    content.vb: Public NotInheritable Class RecoveryManager
  inheritance:
  - System.Object
  inheritedMembers:
  - System.Object.ToString
  - System.Object.Equals(System.Object)
  - System.Object.Equals(System.Object,System.Object)
  - System.Object.ReferenceEquals(System.Object,System.Object)
  - System.Object.GetHashCode
  - System.Object.GetType
  - System.Object.MemberwiseClone
  modifiers.csharp:
  - public
  - sealed
  - class
  modifiers.vb:
  - Public
  - NotInheritable
  - Class
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  id: AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: AttachShard(ShardLocation)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: AttachShard
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 96
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nAttaches a shard to the shard map manager. Earlier versions\nof mappings for the same shard map will automatically be updated \nif more recent versions are found on the shard to be attached.\nAfter attaching a shard, <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref>\nshould be called to check for any inconsistencies that warrant\nmanual conflict resolution.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: public void AttachShard(ShardLocation location)
    content.vb: Public Sub AttachShard(location As ShardLocation)
    parameters:
    - id: location
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
      description: Location of the shard being attached.
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  id: AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: AttachShard(ShardLocation, String)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation, System.String)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: AttachShard
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 116
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nAttaches a shard to the shard map manager. Earlier versions\nof mappings for the same shard map will automatically be updated \nif more recent versions are found on the shard to be attached.\nShard location will be upgraded to latest version of local store as part of this operation.\nAfter attaching a shard, <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref>\nshould be called to check for any inconsistencies that warrant\nmanual conflict resolution.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Maintainability", "CA1502:AvoidExcessiveComplexity")]

      public void AttachShard(ShardLocation location, string shardMapName)
    content.vb: >-
      <SuppressMessage("Microsoft.Maintainability", "CA1502:AvoidExcessiveComplexity")>

      Public Sub AttachShard(location As ShardLocation, shardMapName As String)
    parameters:
    - id: location
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
      description: Location of the shard being attached.
    - id: shardMapName
      type: System.String
      description: Optional string to filter on the shard map name.
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Maintainability
    - type: System.String
      value: CA1502:AvoidExcessiveComplexity
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  id: DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: DetachShard(ShardLocation)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: DetachShard
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 169
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nDetaches the given shard from the shard map manager. Mappings pointing to the \nshard to be deleted will automatically be removed by this method.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: public void DetachShard(ShardLocation location)
    content.vb: Public Sub DetachShard(location As ShardLocation)
    parameters:
    - id: location
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
      description: Location of the shard being detached.
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  id: DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: DetachShard(ShardLocation, String)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation, System.String)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: DetachShard
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 184
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nDetaches the given shard from the shard map manager. Mappings pointing to the \nshard to be deleted will automatically be removed by this method.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: public void DetachShard(ShardLocation location, string shardMapName)
    content.vb: Public Sub DetachShard(location As ShardLocation, shardMapName As String)
    parameters:
    - id: location
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
      description: Location of the shard being detached.
    - id: shardMapName
      type: System.String
      description: Optional string to filter on shard map name.
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  id: GetMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: GetMappingDifferences(RecoveryToken)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: GetMappingDifferences
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 212
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nReturns a dictionary of range-to-location key-value pairs. The location returned is an enumerator stating \nwhether a given range (or point) is present only in the local shard map, only in the global shard map, or both. \nRanges not contained in either shard map cannot contain differences so those ranges are not shown.\n"
  remarks: "\nThis method assumes a previous call to <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref> that provides the recovery token parameter.\nThe result of this method is typically used in subsequent calls to resolve inconsistencies such as \n<xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)\" data-throw-if-not-resolved=\"false\"></xref> or <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange})\" data-throw-if-not-resolved=\"false\"></xref>. \n"
  example: []
  syntax:
    content: public IDictionary<ShardRange, MappingLocation> GetMappingDifferences(RecoveryToken token)
    content.vb: Public Function GetMappingDifferences(token As RecoveryToken) As IDictionary(Of ShardRange, MappingLocation)
    parameters:
    - id: token
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
      description: Recovery token returned from <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>.
    return:
      type: System.Collections.Generic.IDictionary{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation}
      description: The set of ranges and their corresponding <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation" data-throw-if-not-resolved="false"></xref>.
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType@,System.String@,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation@)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType@,System.String@,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation@)
  id: GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType@,System.String@,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation@)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: GetShardInfo(RecoveryToken, out ShardMapType, out String, out ShardLocation)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken, out Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType, out System.String, out Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: GetShardInfo
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 235
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nRetrieves shard map type, name and shard location based on the token returned from <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref>.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId = "1#")]

      [SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId = "2#")]

      [SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId = "3#")]

      public void GetShardInfo(RecoveryToken token, out ShardMapType mapType, out string shardMapName, out ShardLocation shardLocation)
    content.vb: >-
      <SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId:="1#")>

      <SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId:="2#")>

      <SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId:="3#")>

      Public Sub GetShardInfo(token As RecoveryToken, ByRef mapType As ShardMapType, ByRef shardMapName As String, ByRef shardLocation As ShardLocation)
    parameters:
    - id: token
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
      description: Recovery token returned from <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>.
    - id: mapType
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType
      description: Outputs shard map type (Range or List).
    - id: shardMapName
      type: System.String
      description: Outputs shard map name.
    - id: shardLocation
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
      description: Outputs shard location
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1021:AvoidOutParameters
    namedArguments:
    - name: MessageId
      type: System.String
      value: 1#
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1021:AvoidOutParameters
    namedArguments:
    - name: MessageId
      type: System.String
      value: 2#
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1021:AvoidOutParameters
    namedArguments:
    - name: MessageId
      type: System.String
      value: 3#
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
  fullName.vb: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken, ByRef Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType, ByRef System.String, ByRef Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  name.vb: GetShardInfo(RecoveryToken, ByRef ShardMapType, ByRef String, ByRef ShardLocation)
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType@,System.String@)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType@,System.String@)
  id: GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType@,System.String@)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: GetShardInfo(RecoveryToken, out ShardMapType, out String)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken, out Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType, out System.String)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: GetShardInfo
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 272
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nRetrieves shard map type and name based on the token returned from <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref>.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId = "1#")]

      [SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId = "2#")]

      public void GetShardInfo(RecoveryToken token, out ShardMapType mapType, out string shardMapName)
    content.vb: >-
      <SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId:="1#")>

      <SuppressMessage("Microsoft.Design", "CA1021:AvoidOutParameters", MessageId:="2#")>

      Public Sub GetShardInfo(token As RecoveryToken, ByRef mapType As ShardMapType, ByRef shardMapName As String)
    parameters:
    - id: token
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
      description: Recovery token returned from <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>.
    - id: mapType
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType
      description: Output Shardmap type (Range or List).
    - id: shardMapName
      type: System.String
      description: Output name of shard map.
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1021:AvoidOutParameters
    namedArguments:
    - name: MessageId
      type: System.String
      value: 1#
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1021:AvoidOutParameters
    namedArguments:
    - name: MessageId
      type: System.String
      value: 2#
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
  fullName.vb: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken, ByRef Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType, ByRef System.String)
  name.vb: GetShardInfo(RecoveryToken, ByRef ShardMapType, ByRef String)
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapType(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapType(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  id: GetShardMapType(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: GetShardMapType(RecoveryToken)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapType(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: GetShardMapType
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 298
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nReturns the shard map type of the shard map processed by <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref>.\n"
  example: []
  syntax:
    content: public ShardMapType GetShardMapType(RecoveryToken token)
    content.vb: Public Function GetShardMapType(token As RecoveryToken) As ShardMapType
    parameters:
    - id: token
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
      description: Recovery token returned from <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>.
    return:
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType
      description: The type of shard map (list, range, etc...) corresponding to the recovery token.
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapName(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapName(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  id: GetShardMapName(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: GetShardMapName(RecoveryToken)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapName(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: GetShardMapName
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 321
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nReturns the shard map name of the shard map processed by <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref>.\n"
  example: []
  syntax:
    content: public string GetShardMapName(RecoveryToken token)
    content.vb: Public Function GetShardMapName(token As RecoveryToken) As String
    parameters:
    - id: token
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
      description: Recovery token returned from <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>.
    return:
      type: System.String
      description: The name of the shard map for the given recovery token.
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardLocation(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardLocation(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  id: GetShardLocation(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: GetShardLocation(RecoveryToken)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardLocation(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: GetShardLocation
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 344
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nReturns the shard location of the local shard map processed by <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref>.\n"
  example: []
  syntax:
    content: public ShardLocation GetShardLocation(RecoveryToken token)
    content.vb: Public Function GetShardLocation(token As RecoveryToken) As ShardLocation
    parameters:
    - id: token
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
      description: Recovery token returned from <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>
    return:
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
      description: Location of the shard corresponding to the set of mapping differences detected in <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>.
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation})
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation})
  id: RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation})
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: RebuildMappingsOnShardsFromShardMapManager(IEnumerable<ShardLocation>)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation>)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: RebuildMappingsOnShardsFromShardMapManager
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 375
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nGiven a collection of shard locations, reconstructs local shard maps based \non the mapping information stored in the global shard map. The specified\nshards need to be registered already in the global shard map. This method only \nrebuilds mappings. It does not rebuild shard membership within the global shard map.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId = "0")]

      public void RebuildMappingsOnShardsFromShardMapManager(IEnumerable<ShardLocation> shardLocations)
    content.vb: >-
      <SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId:="0")>

      Public Sub RebuildMappingsOnShardsFromShardMapManager(shardLocations As IEnumerable(Of ShardLocation))
    parameters:
    - id: shardLocations
      type: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation}
      description: Collection of shard locations.
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1062:Validate arguments of public methods
    namedArguments:
    - name: MessageId
      type: System.String
      value: "0"
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
  fullName.vb: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation))
  name.vb: RebuildMappingsOnShardsFromShardMapManager(IEnumerable(Of ShardLocation))
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation},System.String)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation},System.String)
  id: RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation},System.String)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: RebuildMappingsOnShardsFromShardMapManager(IEnumerable<ShardLocation>, String)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation>, System.String)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: RebuildMappingsOnShardsFromShardMapManager
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 393
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nGiven a collection of shard locations, reconstructs local shard maps based \non the mapping information stored in the global shard map. The specified\nshards need to be registered already in the global shard map. This method only \nrebuilds mappings. It does not rebuild shard membership within the global shard map.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId = "0")]

      public void RebuildMappingsOnShardsFromShardMapManager(IEnumerable<ShardLocation> shardLocations, string shardMapName)
    content.vb: >-
      <SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId:="0")>

      Public Sub RebuildMappingsOnShardsFromShardMapManager(shardLocations As IEnumerable(Of ShardLocation), shardMapName As String)
    parameters:
    - id: shardLocations
      type: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation}
      description: Collection of shard locations.
    - id: shardMapName
      type: System.String
      description: Optional parameter to filter by shard map name. If omitted, all shard maps will be rebuilt.
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1062:Validate arguments of public methods
    namedArguments:
    - name: MessageId
      type: System.String
      value: "0"
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
  fullName.vb: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager(System.Collections.Generic.IEnumerable(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation), System.String)
  name.vb: RebuildMappingsOnShardsFromShardMapManager(IEnumerable(Of ShardLocation), String)
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation})
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation})
  id: RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation})
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: RebuildMappingsOnShardMapManagerFromShards(IEnumerable<ShardLocation>)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation>)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: RebuildMappingsOnShardMapManagerFromShards
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 419
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nGiven a collection of shard locations, reconstructs the shard map manager based on mapping information\nstored in the individual shards. The specified\nshards need to be registered already in the global shard map. This method only \nrebuilds mappings. It does not rebuild shard membership within the global shard map.\nIf the information in the individual shard maps is or becomes inconsistent, the behavior is undefined.\nNo cross shard locks are taken, so if any shards become inconsistent during the execution of this\nmethod, the final state of the global shard map may be corrupt.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId = "0")]

      public void RebuildMappingsOnShardMapManagerFromShards(IEnumerable<ShardLocation> shardLocations)
    content.vb: >-
      <SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId:="0")>

      Public Sub RebuildMappingsOnShardMapManagerFromShards(shardLocations As IEnumerable(Of ShardLocation))
    parameters:
    - id: shardLocations
      type: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation}
      description: Collection of shard locations.
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1062:Validate arguments of public methods
    namedArguments:
    - name: MessageId
      type: System.String
      value: "0"
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
  fullName.vb: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation))
  name.vb: RebuildMappingsOnShardMapManagerFromShards(IEnumerable(Of ShardLocation))
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation},System.String)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation},System.String)
  id: RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation},System.String)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: RebuildMappingsOnShardMapManagerFromShards(IEnumerable<ShardLocation>, String)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation>, System.String)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: RebuildMappingsOnShardMapManagerFromShards
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 440
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nGiven a collection of shard locations, reconstructs the shard map manager based on mapping information\nstored in the individual shards. The specified\nshards need to be registered already in the global shard map. This method only \nrebuilds mappings. It does not rebuild shard membership within the global shard map.\nIf the information in the individual shard maps is or becomes inconsistent, the behavior is undefined.\nNo cross shard locks are taken, so if any shards become inconsistent during the execution of this\nmethod, the final state of the global shard map may be corrupt.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId = "0")]

      public void RebuildMappingsOnShardMapManagerFromShards(IEnumerable<ShardLocation> shardLocations, string shardMapName)
    content.vb: >-
      <SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId:="0")>

      Public Sub RebuildMappingsOnShardMapManagerFromShards(shardLocations As IEnumerable(Of ShardLocation), shardMapName As String)
    parameters:
    - id: shardLocations
      type: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation}
      description: Collection of shard locations.
    - id: shardMapName
      type: System.String
      description: Optional name of shard map. If omitted, will attempt to recover from all shard maps present on each shard.
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1062:Validate arguments of public methods
    namedArguments:
    - name: MessageId
      type: System.String
      value: "0"
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
  fullName.vb: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards(System.Collections.Generic.IEnumerable(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation), System.String)
  name.vb: RebuildMappingsOnShardMapManagerFromShards(IEnumerable(Of ShardLocation), String)
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange})
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange})
  id: RebuildMappingsOnShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange})
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: RebuildMappingsOnShard(RecoveryToken, IEnumerable<ShardRange>)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken, System.Collections.Generic.IEnumerable<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange>)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: RebuildMappingsOnShard
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 470
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nRebuilds a local range shard map from a list of inconsistent shard ranges\ndetected by <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)\" data-throw-if-not-resolved=\"false\"></xref> and then accessed by <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)\" data-throw-if-not-resolved=\"false\"></xref>.\nThe resulting local range shard map will always still be inconsistent with \nthe global shard map in the shard map manager database. A subsequent call to <xref href=\"Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)\" data-throw-if-not-resolved=\"false\"></xref>\nis necessary to bring the system back to a healthy state.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n\nOnly shard ranges with inconsistencies can be rebuilt using this method. All ranges with no inconsistencies between\nthe local shard and the global shard map will be kept intact on the local shard and are not affected by this call.\nSubsequent changes to the non-conflicting mappings can be made later using the regular interfaces in the shard map manager. \nIt is not necessary to use the recovery manager to change non-conflicting mappings.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId = "1")]

      public void RebuildMappingsOnShard(RecoveryToken token, IEnumerable<ShardRange> ranges)
    content.vb: >-
      <SuppressMessage("Microsoft.Design", "CA1062:Validate arguments of public methods", MessageId:="1")>

      Public Sub RebuildMappingsOnShard(token As RecoveryToken, ranges As IEnumerable(Of ShardRange))
    parameters:
    - id: token
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
      description: The recovery token from a previous call to <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>.
    - id: ranges
      type: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange}
      description: The set of ranges to keep on the local shard when rebuilding the local shard map.
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Design
    - type: System.String
      value: CA1062:Validate arguments of public methods
    namedArguments:
    - name: MessageId
      type: System.String
      value: "1"
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
  fullName.vb: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken, System.Collections.Generic.IEnumerable(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange))
  name.vb: RebuildMappingsOnShard(RecoveryToken, IEnumerable(Of ShardRange))
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  id: DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: DetectMappingDifferences(ShardLocation)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: DetectMappingDifferences
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 549
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nEnumerates differences in the mappings between the global shard map manager database and the local shard \ndatabase in the specified shard location.\n"
  example: []
  syntax:
    content: public IEnumerable<RecoveryToken> DetectMappingDifferences(ShardLocation location)
    content.vb: Public Function DetectMappingDifferences(location As ShardLocation) As IEnumerable(Of RecoveryToken)
    parameters:
    - id: location
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
      description: Location of shard for which to detect inconsistencies.
    return:
      type: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken}
      description: Collection of tokens to be used for further resolution tasks (see <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)" data-throw-if-not-resolved="false"></xref>).
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  id: DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: DetectMappingDifferences(ShardLocation, String)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation, System.String)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: DetectMappingDifferences
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 561
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nEnumerates differences in the mappings between the global shard map manager database and the local shard \ndatabase in the specified shard location.\n"
  example: []
  syntax:
    content: >-
      [SuppressMessage("Microsoft.Maintainability", "CA1502:AvoidExcessiveComplexity")]

      [SuppressMessage("Microsoft.Maintainability", "CA1506:AvoidExcessiveClassCoupling")]

      public IEnumerable<RecoveryToken> DetectMappingDifferences(ShardLocation location, string shardMapName)
    content.vb: >-
      <SuppressMessage("Microsoft.Maintainability", "CA1502:AvoidExcessiveComplexity")>

      <SuppressMessage("Microsoft.Maintainability", "CA1506:AvoidExcessiveClassCoupling")>

      Public Function DetectMappingDifferences(location As ShardLocation, shardMapName As String) As IEnumerable(Of RecoveryToken)
    parameters:
    - id: location
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
      description: Location of shard for which to detect inconsistencies.
    - id: shardMapName
      type: System.String
      description: Optional parameter to specify a particular shard map.
    return:
      type: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken}
      description: Collection of tokens to be used for further resolution tasks (see <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)" data-throw-if-not-resolved="false"></xref>).
  attributes:
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Maintainability
    - type: System.String
      value: CA1502:AvoidExcessiveComplexity
  - type: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute
    ctor: System.Diagnostics.CodeAnalysis.SuppressMessageAttribute.#ctor(System.String,System.String)
    arguments:
    - type: System.String
      value: Microsoft.Maintainability
    - type: System.String
      value: CA1506:AvoidExcessiveClassCoupling
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)
  commentId: M:Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)
  id: ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager
  langs:
  - csharp
  - vb
  name: ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken, Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)
  type: Method
  source:
    remote:
      path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
      branch: master
      repo: https://github.com/Azure/elastic-db-tools
    id: ResolveMappingDifferences
    path: Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs
    startLine: 838
  assemblies:
  - Microsoft.Azure.SqlDatabase.ElasticScale.Client
  namespace: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  summary: "\nSelects one of the shard maps (either local or global) as a source of truth and brings \nmappings on both shard maps in sync.\n"
  remarks: "\nNote that this method can cause unrecoverable data loss. Make sure you have taken backups or copies \nof your databases and only then proceed with great care.\n"
  example: []
  syntax:
    content: public void ResolveMappingDifferences(RecoveryToken token, MappingDifferenceResolution resolution)
    content.vb: Public Sub ResolveMappingDifferences(token As RecoveryToken, resolution As MappingDifferenceResolution)
    parameters:
    - id: token
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
      description: Recovery token returned from <xref href="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)" data-throw-if-not-resolved="false"></xref>.
    - id: resolution
      type: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution
      description: The resolution strategy to be used for resolution.
  modifiers.csharp:
  - public
  modifiers.vb:
  - Public
references:
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  isExternal: false
  name: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
- uid: System.Object
  parent: System
  isExternal: true
  name: Object
  fullName: System.Object
- uid: System.Object.ToString
  parent: System.Object
  isExternal: true
  name: ToString()
  fullName: System.Object.ToString()
  spec.csharp:
  - uid: System.Object.ToString
    name: ToString
    fullName: System.Object.ToString
    isExternal: true
  - name: (
    fullName: (
  - name: )
    fullName: )
  spec.vb:
  - uid: System.Object.ToString
    name: ToString
    fullName: System.Object.ToString
    isExternal: true
  - name: (
    fullName: (
  - name: )
    fullName: )
- uid: System.Object.Equals(System.Object)
  parent: System.Object
  isExternal: true
  name: Equals(Object)
  fullName: System.Object.Equals(System.Object)
  spec.csharp:
  - uid: System.Object.Equals(System.Object)
    name: Equals
    fullName: System.Object.Equals
    isExternal: true
  - name: (
    fullName: (
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: )
    fullName: )
  spec.vb:
  - uid: System.Object.Equals(System.Object)
    name: Equals
    fullName: System.Object.Equals
    isExternal: true
  - name: (
    fullName: (
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: )
    fullName: )
- uid: System.Object.Equals(System.Object,System.Object)
  parent: System.Object
  isExternal: true
  name: Equals(Object, Object)
  fullName: System.Object.Equals(System.Object, System.Object)
  spec.csharp:
  - uid: System.Object.Equals(System.Object,System.Object)
    name: Equals
    fullName: System.Object.Equals
    isExternal: true
  - name: (
    fullName: (
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: ', '
    fullName: ', '
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: )
    fullName: )
  spec.vb:
  - uid: System.Object.Equals(System.Object,System.Object)
    name: Equals
    fullName: System.Object.Equals
    isExternal: true
  - name: (
    fullName: (
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: ', '
    fullName: ', '
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: )
    fullName: )
- uid: System.Object.ReferenceEquals(System.Object,System.Object)
  parent: System.Object
  isExternal: true
  name: ReferenceEquals(Object, Object)
  fullName: System.Object.ReferenceEquals(System.Object, System.Object)
  spec.csharp:
  - uid: System.Object.ReferenceEquals(System.Object,System.Object)
    name: ReferenceEquals
    fullName: System.Object.ReferenceEquals
    isExternal: true
  - name: (
    fullName: (
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: ', '
    fullName: ', '
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: )
    fullName: )
  spec.vb:
  - uid: System.Object.ReferenceEquals(System.Object,System.Object)
    name: ReferenceEquals
    fullName: System.Object.ReferenceEquals
    isExternal: true
  - name: (
    fullName: (
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: ', '
    fullName: ', '
  - uid: System.Object
    name: Object
    fullName: System.Object
    isExternal: true
  - name: )
    fullName: )
- uid: System.Object.GetHashCode
  parent: System.Object
  isExternal: true
  name: GetHashCode()
  fullName: System.Object.GetHashCode()
  spec.csharp:
  - uid: System.Object.GetHashCode
    name: GetHashCode
    fullName: System.Object.GetHashCode
    isExternal: true
  - name: (
    fullName: (
  - name: )
    fullName: )
  spec.vb:
  - uid: System.Object.GetHashCode
    name: GetHashCode
    fullName: System.Object.GetHashCode
    isExternal: true
  - name: (
    fullName: (
  - name: )
    fullName: )
- uid: System.Object.GetType
  parent: System.Object
  isExternal: true
  name: GetType()
  fullName: System.Object.GetType()
  spec.csharp:
  - uid: System.Object.GetType
    name: GetType
    fullName: System.Object.GetType
    isExternal: true
  - name: (
    fullName: (
  - name: )
    fullName: )
  spec.vb:
  - uid: System.Object.GetType
    name: GetType
    fullName: System.Object.GetType
    isExternal: true
  - name: (
    fullName: (
  - name: )
    fullName: )
- uid: System.Object.MemberwiseClone
  parent: System.Object
  isExternal: true
  name: MemberwiseClone()
  fullName: System.Object.MemberwiseClone()
  spec.csharp:
  - uid: System.Object.MemberwiseClone
    name: MemberwiseClone
    fullName: System.Object.MemberwiseClone
    isExternal: true
  - name: (
    fullName: (
  - name: )
    fullName: )
  spec.vb:
  - uid: System.Object.MemberwiseClone
    name: MemberwiseClone
    fullName: System.Object.MemberwiseClone
    isExternal: true
  - name: (
    fullName: (
  - name: )
    fullName: )
- uid: System
  isExternal: false
  name: System
  fullName: System
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation,System.String)
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement
  isExternal: false
  name: ShardLocation
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement
  isExternal: false
  name: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement
- uid: System.String
  parent: System
  isExternal: true
  name: String
  fullName: System.String
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  isExternal: false
  name: MappingLocation
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution)
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShard(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken,System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange})
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  isExternal: false
  name: RecoveryToken
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
- uid: System.Collections.Generic.IDictionary{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange,Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation}
  parent: System.Collections.Generic
  definition: System.Collections.Generic.IDictionary`2
  name: IDictionary<ShardRange, MappingLocation>
  fullName: System.Collections.Generic.IDictionary<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange, Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation>
  fullname.vb: System.Collections.Generic.IDictionary(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange, Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation)
  name.vb: IDictionary(Of ShardRange, MappingLocation)
  spec.csharp:
  - uid: System.Collections.Generic.IDictionary`2
    name: IDictionary
    fullName: System.Collections.Generic.IDictionary
    isExternal: true
  - name: <
    fullName: <
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange
    name: ShardRange
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange
  - name: ', '
    fullName: ', '
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation
    name: MappingLocation
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation
  - name: '>'
    fullName: '>'
  spec.vb:
  - uid: System.Collections.Generic.IDictionary`2
    name: IDictionary
    fullName: System.Collections.Generic.IDictionary
    isExternal: true
  - name: '(Of '
    fullName: '(Of '
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange
    name: ShardRange
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange
  - name: ', '
    fullName: ', '
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation
    name: MappingLocation
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingLocation
  - name: )
    fullName: )
- uid: System.Collections.Generic.IDictionary`2
  parent: System.Collections.Generic
  isExternal: true
  name: IDictionary<TKey, TValue>
  fullName: System.Collections.Generic.IDictionary<TKey, TValue>
  fullname.vb: System.Collections.Generic.IDictionary(Of TKey, TValue)
  name.vb: IDictionary(Of TKey, TValue)
  spec.csharp:
  - uid: System.Collections.Generic.IDictionary`2
    name: IDictionary
    fullName: System.Collections.Generic.IDictionary
    isExternal: true
  - name: <
    fullName: <
  - name: TKey
    fullName: TKey
  - name: ', '
    fullName: ', '
  - name: TValue
    fullName: TValue
  - name: '>'
    fullName: '>'
  spec.vb:
  - uid: System.Collections.Generic.IDictionary`2
    name: IDictionary
    fullName: System.Collections.Generic.IDictionary
    isExternal: true
  - name: '(Of '
    fullName: '(Of '
  - name: TKey
    fullName: TKey
  - name: ', '
    fullName: ', '
  - name: TValue
    fullName: TValue
  - name: )
    fullName: )
- uid: System.Collections.Generic
  isExternal: false
  name: System.Collections.Generic
  fullName: System.Collections.Generic
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement
  isExternal: false
  name: ShardMapType
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardMapType
- uid: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation}
  parent: System.Collections.Generic
  definition: System.Collections.Generic.IEnumerable`1
  name: IEnumerable<ShardLocation>
  fullName: System.Collections.Generic.IEnumerable<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation>
  fullname.vb: System.Collections.Generic.IEnumerable(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation)
  name.vb: IEnumerable(Of ShardLocation)
  spec.csharp:
  - uid: System.Collections.Generic.IEnumerable`1
    name: IEnumerable
    fullName: System.Collections.Generic.IEnumerable
    isExternal: true
  - name: <
    fullName: <
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
    name: ShardLocation
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
  - name: '>'
    fullName: '>'
  spec.vb:
  - uid: System.Collections.Generic.IEnumerable`1
    name: IEnumerable
    fullName: System.Collections.Generic.IEnumerable
    isExternal: true
  - name: '(Of '
    fullName: '(Of '
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
    name: ShardLocation
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardLocation
  - name: )
    fullName: )
- uid: System.Collections.Generic.IEnumerable`1
  parent: System.Collections.Generic
  isExternal: true
  name: IEnumerable<T>
  fullName: System.Collections.Generic.IEnumerable<T>
  fullname.vb: System.Collections.Generic.IEnumerable(Of T)
  name.vb: IEnumerable(Of T)
  spec.csharp:
  - uid: System.Collections.Generic.IEnumerable`1
    name: IEnumerable
    fullName: System.Collections.Generic.IEnumerable
    isExternal: true
  - name: <
    fullName: <
  - name: T
    fullName: T
  - name: '>'
    fullName: '>'
  spec.vb:
  - uid: System.Collections.Generic.IEnumerable`1
    name: IEnumerable
    fullName: System.Collections.Generic.IEnumerable
    isExternal: true
  - name: '(Of '
    fullName: '(Of '
  - name: T
    fullName: T
  - name: )
    fullName: )
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetMappingDifferences(Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
- uid: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange}
  parent: System.Collections.Generic
  definition: System.Collections.Generic.IEnumerable`1
  name: IEnumerable<ShardRange>
  fullName: System.Collections.Generic.IEnumerable<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange>
  fullname.vb: System.Collections.Generic.IEnumerable(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange)
  name.vb: IEnumerable(Of ShardRange)
  spec.csharp:
  - uid: System.Collections.Generic.IEnumerable`1
    name: IEnumerable
    fullName: System.Collections.Generic.IEnumerable
    isExternal: true
  - name: <
    fullName: <
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange
    name: ShardRange
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange
  - name: '>'
    fullName: '>'
  spec.vb:
  - uid: System.Collections.Generic.IEnumerable`1
    name: IEnumerable
    fullName: System.Collections.Generic.IEnumerable
    isExternal: true
  - name: '(Of '
    fullName: '(Of '
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange
    name: ShardRange
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.ShardRange
  - name: )
    fullName: )
- uid: System.Collections.Generic.IEnumerable{Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken}
  parent: System.Collections.Generic
  definition: System.Collections.Generic.IEnumerable`1
  name: IEnumerable<RecoveryToken>
  fullName: System.Collections.Generic.IEnumerable<Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken>
  fullname.vb: System.Collections.Generic.IEnumerable(Of Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken)
  name.vb: IEnumerable(Of RecoveryToken)
  spec.csharp:
  - uid: System.Collections.Generic.IEnumerable`1
    name: IEnumerable
    fullName: System.Collections.Generic.IEnumerable
    isExternal: true
  - name: <
    fullName: <
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
    name: RecoveryToken
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
  - name: '>'
    fullName: '>'
  spec.vb:
  - uid: System.Collections.Generic.IEnumerable`1
    name: IEnumerable
    fullName: System.Collections.Generic.IEnumerable
    isExternal: true
  - name: '(Of '
    fullName: '(Of '
  - uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
    name: RecoveryToken
    fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryToken
  - name: )
    fullName: )
- uid: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution
  parent: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery
  isExternal: false
  name: MappingDifferenceResolution
  fullName: Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.MappingDifferenceResolution
